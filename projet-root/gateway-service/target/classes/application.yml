spring:
  cloud:
    gateway:
      default-filters:
        - PreserveHostHeader
      routes:
        - id: auth-service
          uri: http://auth-service:8080
          predicates:
            - Path=/auth/**

        - id: patient-service
          uri: http://patient-service:8081
          predicates:
            - Path=/patients/**

        - id: note-service
          uri: http://note-service:8083
          predicates:
            - Path=/notes/**

        - id: risk-assessment-service
          uri: http://risk-assessment-service:8084
          predicates:
            - Path=/risk/**
          filters:
            - RewritePath=/risk/(?<segment>.*), /assess/${segment}

        - id: access-denied-page
          uri: http://patient-ui-service:8082
          predicates:
            - Path=/access-denied

        - id: patient-ui-service
          uri: http://patient-ui-service:8082
          predicates:
            - Path=/ui/**
          filters:
            - StripPrefix=1
